<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="fr">
<head>
<!-- Generated by javadoc (1.8.0_151) on Sun Jan 21 15:45:39 CET 2018 -->
<title>SubscriptionRepository</title>
<meta name="date" content="2018-01-21">
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="SubscriptionRepository";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":6,"i1":6,"i2":6,"i3":6,"i4":6,"i5":6,"i6":6,"i7":6,"i8":6};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],4:["t3","Abstract Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/SubscriptionRepository.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../org/ligoj/app/dao/SecuritySpringDataListener.html" title="class in org.ligoj.app.dao"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li>Next&nbsp;Class</li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?org/ligoj/app/dao/SubscriptionRepository.html" target="_top">Frames</a></li>
<li><a href="SubscriptionRepository.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">org.ligoj.app.dao</div>
<h2 title="Interface SubscriptionRepository" class="title">Interface SubscriptionRepository</h2>
</div>
<div class="contentContainer">
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Superinterfaces:</dt>
<dd>org.springframework.data.repository.CrudRepository&lt;<a href="../../../../org/ligoj/app/model/Subscription.html" title="class in org.ligoj.app.model">Subscription</a>,java.lang.Integer&gt;, org.springframework.data.jpa.repository.JpaRepository&lt;<a href="../../../../org/ligoj/app/model/Subscription.html" title="class in org.ligoj.app.model">Subscription</a>,java.lang.Integer&gt;, org.springframework.data.repository.PagingAndSortingRepository&lt;<a href="../../../../org/ligoj/app/model/Subscription.html" title="class in org.ligoj.app.model">Subscription</a>,java.lang.Integer&gt;, org.springframework.data.repository.query.QueryByExampleExecutor&lt;<a href="../../../../org/ligoj/app/model/Subscription.html" title="class in org.ligoj.app.model">Subscription</a>&gt;, org.springframework.data.repository.Repository&lt;<a href="../../../../org/ligoj/app/model/Subscription.html" title="class in org.ligoj.app.model">Subscription</a>,java.lang.Integer&gt;, org.ligoj.bootstrap.core.dao.RestRepository&lt;<a href="../../../../org/ligoj/app/model/Subscription.html" title="class in org.ligoj.app.model">Subscription</a>,java.lang.Integer&gt;</dd>
</dl>
<hr>
<br>
<pre>public interface <span class="typeNameLabel">SubscriptionRepository</span>
extends org.ligoj.bootstrap.core.dao.RestRepository&lt;<a href="../../../../org/ligoj/app/model/Subscription.html" title="class in org.ligoj.app.model">Subscription</a>,java.lang.Integer&gt;</pre>
<div class="block"><a href="../../../../org/ligoj/app/model/Subscription.html" title="class in org.ligoj.app.model"><code>Subscription</code></a> repository</div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t3" class="tableTab"><span><a href="javascript:show(4);">Abstract Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/ligoj/app/dao/SubscriptionRepository.html#countByNode-java.lang.String-">countByNode</a></span>(java.lang.String&nbsp;node)</code>
<div class="block">Return the amount of subscriptions to given node or one of the sub-nodes.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/ligoj/app/dao/SubscriptionRepository.html#countByParameterValue-int-">countByParameterValue</a></span>(int&nbsp;parameterValue)</code>
<div class="block">Return the amount of subscriptions involving the given parameter value.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>long</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/ligoj/app/dao/SubscriptionRepository.html#countByProject-int-">countByProject</a></span>(int&nbsp;project)</code>
<div class="block">Count subscriptions by project's identifier.</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>java.util.List&lt;<a href="../../../../org/ligoj/app/model/Subscription.html" title="class in org.ligoj.app.model">Subscription</a>&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/ligoj/app/dao/SubscriptionRepository.html#findAllByProject-int-">findAllByProject</a></span>(int&nbsp;project)</code>
<div class="block">Return the subscriptions of given project.</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>java.util.List&lt;java.lang.Object[]&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/ligoj/app/dao/SubscriptionRepository.html#findAllLight--">findAllLight</a></span>()</code>
<div class="block">Return all subscriptions with only few information.</div>
</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code>java.util.List&lt;<a href="../../../../org/ligoj/app/model/Subscription.html" title="class in org.ligoj.app.model">Subscription</a>&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/ligoj/app/dao/SubscriptionRepository.html#findAllOnSameProject-int-">findAllOnSameProject</a></span>(int&nbsp;subscription)</code>
<div class="block">Return all subscriptions attached to the same project than the given
 subscription.</div>
</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code>java.util.List&lt;java.lang.Object[]&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/ligoj/app/dao/SubscriptionRepository.html#findAllWithValuesByNode-java.lang.String-">findAllWithValuesByNode</a></span>(java.lang.String&nbsp;node)</code>
<div class="block">Return all subscriptions and associated parameters on the given node.</div>
</td>
</tr>
<tr id="i7" class="rowColor">
<td class="colFirst"><code>java.util.List&lt;java.lang.Object[]&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/ligoj/app/dao/SubscriptionRepository.html#findAllWithValuesSecureByNode-java.lang.String-">findAllWithValuesSecureByNode</a></span>(java.lang.String&nbsp;node)</code>
<div class="block">Return the subscriptions to given node or one of the sub-nodes, and with
 all non secured parameters.</div>
</td>
</tr>
<tr id="i8" class="altColor">
<td class="colFirst"><code>java.util.List&lt;java.lang.Object[]&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/ligoj/app/dao/SubscriptionRepository.html#findAllWithValuesSecureByProject-int-">findAllWithValuesSecureByProject</a></span>(int&nbsp;project)</code>
<div class="block">Return the subscriptions of given project with all non secured
 parameters.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.org.ligoj.bootstrap.core.dao.RestRepository">
<!--   -->
</a>
<h3>Methods inherited from interface&nbsp;org.ligoj.bootstrap.core.dao.RestRepository</h3>
<code>countBy, deleteAll, deleteAllBy, deleteAllExpected, deleteAllNoFetch, deleteNoFetch, existExpected, findAllBy, findBy, findByExpected, findByName, findByNameExpected, findOne, findOneExpected, findOneExpected</code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.org.springframework.data.jpa.repository.JpaRepository">
<!--   -->
</a>
<h3>Methods inherited from interface&nbsp;org.springframework.data.jpa.repository.JpaRepository</h3>
<code>deleteAllInBatch, deleteInBatch, findAll, findAll, findAll, findAll, findAllById, flush, getOne, saveAll, saveAndFlush</code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.org.springframework.data.repository.PagingAndSortingRepository">
<!--   -->
</a>
<h3>Methods inherited from interface&nbsp;org.springframework.data.repository.PagingAndSortingRepository</h3>
<code>findAll</code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.org.springframework.data.repository.CrudRepository">
<!--   -->
</a>
<h3>Methods inherited from interface&nbsp;org.springframework.data.repository.CrudRepository</h3>
<code>count, delete, deleteAll, deleteAll, deleteById, existsById, findById, save</code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.org.springframework.data.repository.query.QueryByExampleExecutor">
<!--   -->
</a>
<h3>Methods inherited from interface&nbsp;org.springframework.data.repository.query.QueryByExampleExecutor</h3>
<code>count, exists, findAll, findOne</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="findAllLight--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>findAllLight</h4>
<pre>@Query(value="SELECT s.id, p.id, se.id FROM Subscription s INNER JOIN s.node AS se INNER JOIN s.project AS p")
java.util.List&lt;java.lang.Object[]&gt;&nbsp;findAllLight()</pre>
<div class="block">Return all subscriptions with only few information.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the subscriptions data :project identifier and node identifier.</dd>
</dl>
</li>
</ul>
<a name="findAllByProject-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>findAllByProject</h4>
<pre>@Query(value="FROM Subscription s INNER JOIN FETCH s.node WHERE s.project.id = ?1")
java.util.List&lt;<a href="../../../../org/ligoj/app/model/Subscription.html" title="class in org.ligoj.app.model">Subscription</a>&gt;&nbsp;findAllByProject(int&nbsp;project)</pre>
<div class="block">Return the subscriptions of given project.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>project</code> - the subscribing project</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the subscriptions of given project.</dd>
</dl>
</li>
</ul>
<a name="findAllOnSameProject-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>findAllOnSameProject</h4>
<pre>@Query(value="SELECT s1 FROM Subscription s1, Subscription s2 INNER JOIN FETCH s1.node WHERE s2.id = ?1 AND s1.project.id = s2.project.id")
java.util.List&lt;<a href="../../../../org/ligoj/app/model/Subscription.html" title="class in org.ligoj.app.model">Subscription</a>&gt;&nbsp;findAllOnSameProject(int&nbsp;subscription)</pre>
<div class="block">Return all subscriptions attached to the same project than the given
 subscription.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>subscription</code> - the subscription used to check the other attached a common
            project.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the subscriptions attached to the same project. Service are
         fetch.</dd>
</dl>
</li>
</ul>
<a name="findAllWithValuesSecureByNode-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>findAllWithValuesSecureByNode</h4>
<pre>@Query(value="SELECT s, p FROM Subscription s, ParameterValue p INNER JOIN FETCH s.node service LEFT JOIN p.subscription subscription INNER JOIN FETCH p.parameter param  LEFT JOIN p.node n0 LEFT JOIN n0.refined n1 LEFT JOIN n1.refined n2 LEFT JOIN service.refined sn0 LEFT JOIN sn0.refined sn1 WHERE (service.id = ?1 OR sn0.id = ?1 OR sn1.id = ?1)   AND (subscription = s OR  n0 = service OR n1.refined = service OR n2.refined = service) AND param.secured != TRUE")
java.util.List&lt;java.lang.Object[]&gt;&nbsp;findAllWithValuesSecureByNode(java.lang.String&nbsp;node)</pre>
<div class="block">Return the subscriptions to given node or one of the sub-nodes, and with
 all non secured parameters.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>node</code> - the subscribed node. Directly or not.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the subscriptions to given node.</dd>
</dl>
</li>
</ul>
<a name="countByNode-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>countByNode</h4>
<pre>@Query(value="SELECT count(s.id) FROM Subscription s INNER JOIN s.node service  LEFT JOIN service.refined sn0 LEFT JOIN sn0.refined sn1 WHERE (service.id = ?1 OR sn0.id = ?1 OR sn1.id = ?1)")
int&nbsp;countByNode(java.lang.String&nbsp;node)</pre>
<div class="block">Return the amount of subscriptions to given node or one of the sub-nodes.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>node</code> - The subscribed node. Directly or not.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The amount of subscriptions to given node.</dd>
</dl>
</li>
</ul>
<a name="countByParameterValue-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>countByParameterValue</h4>
<pre>@Query(value="SELECT count(s.id) FROM Subscription s, ParameterValue v INNER JOIN s.node sn INNER JOIN v.node vn WHERE v.id = :parameterValue AND (vn = sn OR sn.id LIKE CONCAT(vn.id, \':%\'))")
int&nbsp;countByParameterValue(int&nbsp;parameterValue)</pre>
<div class="block">Return the amount of subscriptions involving the given parameter value.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>parameterValue</code> - The parameter value identifier.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The amount of subscriptions involving the given parameter value
         directly or not.</dd>
</dl>
</li>
</ul>
<a name="findAllWithValuesSecureByProject-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>findAllWithValuesSecureByProject</h4>
<pre>@Query(value="SELECT s, p FROM Subscription s, ParameterValue p INNER JOIN FETCH s.node service LEFT JOIN p.subscription subscription INNER JOIN FETCH p.parameter param  LEFT JOIN p.node n0 LEFT JOIN n0.refined n1 LEFT JOIN n1.refined n2 WHERE s.project.id = ?1 AND (subscription = s OR  n0 = service OR n1.refined = service OR n2.refined = service) AND param.secured != TRUE")
java.util.List&lt;java.lang.Object[]&gt;&nbsp;findAllWithValuesSecureByProject(int&nbsp;project)</pre>
<div class="block">Return the subscriptions of given project with all non secured
 parameters.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>project</code> - the subscribing project</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the subscriptions of given project.</dd>
</dl>
</li>
</ul>
<a name="findAllWithValuesByNode-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>findAllWithValuesByNode</h4>
<pre>@Query(value="SELECT s, p FROM ParameterValue p INNER JOIN p.subscription s INNER JOIN s.node service INNER JOIN FETCH p.parameter  LEFT JOIN s.node n0 WHERE n0.id = ?1  ")
java.util.List&lt;java.lang.Object[]&gt;&nbsp;findAllWithValuesByNode(java.lang.String&nbsp;node)</pre>
<div class="block">Return all subscriptions and associated parameters on the given node.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>node</code> - node identifier.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>subscriptions (index=0) and associated parameters (index=1)</dd>
</dl>
</li>
</ul>
<a name="countByProject-int-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>countByProject</h4>
<pre>@Query(value="SELECT COUNT(id) FROM Subscription WHERE project.id = :project")
long&nbsp;countByProject(int&nbsp;project)</pre>
<div class="block">Count subscriptions by project's identifier.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>project</code> - project's identifier.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>Amount of subscriptions to the given project.</dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/SubscriptionRepository.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../org/ligoj/app/dao/SecuritySpringDataListener.html" title="class in org.ligoj.app.dao"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li>Next&nbsp;Class</li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?org/ligoj/app/dao/SubscriptionRepository.html" target="_top">Frames</a></li>
<li><a href="SubscriptionRepository.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
